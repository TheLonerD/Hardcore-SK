<?xml version="1.0" encoding="UTF-8"?>
<Patch>

    <!-- Fixes "Could not find parent node named XXX if patching a mod who has a higher load order than you "-->
	

    <Operation Class="PatchOperationAttributeSet">
        <xpath>Defs/ThingDef[defName="Ammo_NerveSpikerBolt"]</xpath>
        <attribute>ParentName</attribute>
        <value>SK.AmmoBoltBaseDummy</value>
    </Operation>

    <Operation Class="PatchOperationAttributeSet">
        <xpath>Defs/ThingDef[defName="Projectile_NerveSpikerBolt"]</xpath>
        <attribute>ParentName</attribute>
        <value>SK.BaseBoltProjectileDummy</value>
    </Operation>

    <Operation Class="SK.PatchOperationReplaceExtended">
        <xpath>Defs/RecipeDef[defName="MakeAmmo_NerveSpikerBolt"]</xpath>
        <value>
            <label>make nerve spiker bolts x50</label>
            <description>Craft 50 nerve spiker bolts.</description>
            <workAmount>2500</workAmount>
            <ingredients>
                <li>
                    <filter>
                        <categories>
                            <li>Wooden</li>
                        </categories>
                    </filter>
                    <count>5</count>
                </li>
                <li>
                    <filter>
                        <thingDefs>
                            <li>BioferriteAlloy</li>
                        </thingDefs>
                    </filter>
                    <count>10</count>
                </li>
            </ingredients>
            <fixedIngredientFilter>
                <categories>
                    <li>Wooden</li>
                </categories>
                <thingDefs>
                    <li>BioferriteAlloy</li>
                </thingDefs>
            </fixedIngredientFilter>
            <products>
                <Ammo_NerveSpikerBolt>50</Ammo_NerveSpikerBolt>
            </products>
        </value>
    </Operation>

    <Operation Class="SK.PatchOperationReplaceExtended">
        <xpath>Defs/RecipeDef[defName="MakeAmmo_Flamethrower_Bioferrite"]</xpath>
        <value>
            <ingredients>
                <li>
                    <filter>
                        <thingDefs>
                            <li>Chemfuel</li>
                        </thingDefs>
                    </filter>
                    <count>10</count>
                </li>
                <li>
                    <filter>
                        <thingDefs>
                            <li>BioferriteAlloy</li>
                        </thingDefs>
                    </filter>
                    <count>10</count>
                </li>
            </ingredients>
            <fixedIngredientFilter>
                <thingDefs>
                    <li>Chemfuel</li>
                    <li>BioferriteAlloy</li>
                </thingDefs>
            </fixedIngredientFilter>
        </value>
    </Operation>

    <Operation Class="SK.PatchOperationReplaceExtended">
        <xpath>Defs/RecipeDef[defName="MakeShell_Deadlife"]</xpath>
        <value>
            <ingredients>
                <li>
                    <filter>
                        <categories>
                            <li>SLDBar</li>
                            <li>USLDBar</li>
                        </categories>
                    </filter>
                    <count>15</count>
                </li>
                <li>
                    <filter>
                        <categories>
                            <li>HeavyBar</li>
                        </categories>
                    </filter>
                    <count>5</count>
                </li>
                <li>
                    <filter>
                        <thingDefs>
                            <li>Powder</li>
                            <li>FSX</li>
                        </thingDefs>
                    </filter>
                    <count>6</count>
                </li>
                <li>
                    <filter>
                        <thingDefs>
                            <li>BioferriteAlloy</li>
                        </thingDefs>
                    </filter>
                    <count>25</count>
                </li>
            </ingredients>
            <fixedIngredientFilter>
                <thingDefs>
                    <li>BioferriteAlloy</li>
                    <li>FSX</li>
                    <li>Powder</li>
                </thingDefs>
                <categories>
                    <li>SLDBar</li>
                    <li>USLDBar</li>
                    <li>HeavyBar</li>
                </categories>
            </fixedIngredientFilter>
        </value>
    </Operation>
    
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]/fixedIngredientFilter</xpath>
		<value>
            <fixedIngredientFilter>
                <categories>
                    <li>Metallic</li>
                    <li>SLDBar</li>
                    <li>USLDBar</li>
                </categories>
                <thingDefs>
                    <li>BioferriteAlloy</li>
                </thingDefs>
            </fixedIngredientFilter>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]/description</xpath>
		<value>
			<description>Craft 10 bioferrite flare shells.</description>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]/ingredients</xpath>
		<value>
			<ingredients>
				<li>
                    <thingDefs>
                        <li>BioferriteAlloy</li>
                    </thingDefs>
					<count>1</count>
				</li>
				<li>
					<filter>
						<categories>
							<li>Metallic</li>
						</categories>
					</filter>
					<count>15</count>
				</li>
				<li>
					<filter>
						<categories>
							<li>SLDBar</li>
							<li>USLDBar</li>
						</categories>
						<thingDefs>
							<li>Prometheum</li>
						</thingDefs>
					</filter>
					<count>3</count>
				</li>
			</ingredients>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]/products/Ammo_FlareBioferrite</xpath>
		<value>
			<Ammo_FlareBioferrite>10</Ammo_FlareBioferrite>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]/label</xpath>
		<value>
			<label>make bioferrite flare x10</label>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/RecipeDef[defName="MakeAmmo_FlareBioferrite"]</xpath>
		<value>
			<researchPrerequisite>Pistols_C2</researchPrerequisite>
		</value>
	</Operation>

</Patch>